{% macro optimizedImage(src, alt, width, height, loading="lazy", sizes="100vw", pictureClass="", class="", decoding="async") %}
<picture{% if pictureClass %} class="{{ pictureClass }}"{% endif %}>
  <source
    type="image/avif"
    srcset="/assets/images/{{ src | replace('.jpg', '') | replace('.jpeg', '') | replace('.png', '') }}-m.avif 600w,
            /assets/images/{{ src | replace('.jpg', '') | replace('.jpeg', '') | replace('.png', '') }}-t.avif 1024w,
            /assets/images/{{ src | replace('.jpg', '') | replace('.jpeg', '') | replace('.png', '') }}.avif"
    sizes="{{ sizes }}"
  />
  <source
    type="image/webp"
    srcset="/assets/images/{{ src | replace('.jpg', '') | replace('.jpeg', '') | replace('.png', '') }}-m.webp 600w,
            /assets/images/{{ src | replace('.jpg', '') | replace('.jpeg', '') | replace('.png', '') }}-t.webp 1024w,
            /assets/images/{{ src | replace('.jpg', '') | replace('.jpeg', '') | replace('.png', '') }}.webp"
    sizes="{{ sizes }}"
  />
  <img
    src="/assets/images/{{ src }}"
    srcset="/assets/images/{{ src | replace('.jpg', '') | replace('.jpeg', '') | replace('.png', '') }}-m.jpg 600w,
            /assets/images/{{ src | replace('.jpg', '') | replace('.jpeg', '') | replace('.png', '') }}-t.jpg 1024w,
            /assets/images/{{ src }}"
    alt="{{ alt }}"
    width="{{ width }}"
    height="{{ height }}"
    loading="{{ loading }}"
    decoding="{{ decoding }}"
    {% if class %}class="{{ class }}"{% endif %}
    sizes="{{ sizes }}"
  />
</picture>
{% endmacro %} 